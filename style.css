@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=La+Belle+Aurore&display=swap');

/* =========================================
   1. VARIABLES & RESET
   ========================================= */
:root {
    --bg-color: #050505;
    --text-color: #FFFFFF;
    --accent-color: #D81F26;
    --future-color: #3fa9f5;
    --imdb-color: #f5c518;
    --yt-color: #FF0000;
    --green-highlight: #46d369;
    
    --ease-slide: cubic-bezier(0.22, 1, 0.36, 1);
    --ease-lux: cubic-bezier(0.25, 0.8, 0.25, 1);
    --ease-search: cubic-bezier(0.22, 1, 0.36, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
}

* { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
html { scroll-behavior: smooth; } 
body { 
    background-color: var(--bg-color); color: var(--text-color); 
    font-family: 'Inter', sans-serif; overflow-x: hidden; -webkit-font-smoothing: antialiased;
}

::-webkit-scrollbar { width: 0px; background: transparent; }
.hidden { display: none !important; }
/* Add this right below the .hidden rule */
.mobile-only { display: none; }

/* Masquerade Gradients */
.content-mask-bottom { position: fixed; bottom: 0; left: 0; width: 100%; height: 150px; background: linear-gradient(to top, var(--bg-color) 20%, transparent 100%); z-index: 900; pointer-events: none; }
.content-mask-top { position: fixed; top: 0; left: 0; width: 100%; height: 125px; background: linear-gradient(to bottom, var(--bg-color) 35%, transparent 100%); z-index: 900; pointer-events: none; }

/* =========================================
   2. GLOBAL ANIMATIONS
   ========================================= */
#app { will-change: transform, opacity; }

.page-exit-back, .page-exit { animation: cinemaFadeOut 0.5s var(--ease-lux) forwards !important; }
.page-enter-back, .page-enter { animation: cinemaFadeIn 0.5s var(--ease-lux) forwards !important; }

@keyframes cinemaFadeOut { 
    from { opacity: 1; transform: scale(1); filter: blur(0px); } 
    to { opacity: 0; transform: scale(0.98); filter: blur(5px); } 
}
@keyframes cinemaFadeIn { 
    from { opacity: 0; transform: scale(1.02); filter: blur(5px); } 
    to { opacity: 1; transform: scale(1); filter: blur(0px); } 
}

/* =========================================
   3. UI COMPONENTS
   ========================================= */
@media (hover: hover) and (pointer: fine) {
    * { cursor: none !important; } 
    .custom-cursor { position: fixed; top: 0; left: 0; width: 11px; height: 11px; background-color: rgba(255, 255, 255, 1); border-radius: 50%; pointer-events: none; z-index: 10000; transform: translate3d(-50%, -50%, 0); box-shadow: 0 0 8px rgba(255, 255, 255, 0.8); transition: width 0.2s, height 0.2s, background-color 0.2s, border 0.2s; will-change: transform, width, height; }
    .custom-cursor.hovering { width: 16px; height: 16px; background-color: rgba(255, 255, 255, 0.15); box-shadow: 0 0 10px rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.4); }
}
@media (hover: none) { .custom-cursor { display: none; } }

/* Notification Toast - MOVED TO TOP CENTER */
.toast-container { position: fixed; top: 30px; left: 50%; transform: translateX(-50%); z-index: 10000; pointer-events: none; display: flex; justify-content: center; }
.toast { background: rgba(20, 20, 20, 0.85); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.15); padding: 12px 24px; border-radius: 50px; color: white; font-size: 0.9rem; font-weight: 500; display: flex; align-items: center; gap: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); opacity: 0; transform: translateY(-20px); animation: toastIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; pointer-events: all; white-space: nowrap; }
.toast.out { animation: toastOut 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
@keyframes toastIn { to { opacity: 1; transform: translateY(0); } }
@keyframes toastOut { from { opacity: 1; transform: translateY(0) scale(1); } to { opacity: 0; transform: translateY(-20px) scale(0.9); } }
.toast-close { cursor: pointer; opacity: 0.6; font-size: 1.1rem; line-height: 1; transition: 0.2s; display: flex; align-items: center; justify-content: center; }
.toast-close:hover { opacity: 1; color: var(--accent-color); transform: scale(1.1); }

/* Signature - REPOSITIONED */
/* Signature - TOP RIGHT, INVISIBLE UNTIL HOVER */
/* Signature - ALIGNED WITH LOGO */
.signature-wrapper { 
    position: fixed; 
    top: 37px;          /* Increased from 35px to 42px to center it visually with the larger Logo */
    right: 4%;          /* Matches the Logo's left: 4% */
    z-index: 3000; 
    
    display: flex;
    align-items: center; 
    justify-content: flex-end; 
    height: 40px; 
    width: 150px;       
    
    pointer-events: auto; 
    cursor: default;
}

.signature-mark { 
    font-family: 'La Belle Aurore', cursive; 
    color: #fff; 
    font-size: 1.3rem; 
    
    opacity: 0;         /* <--- HIDDEN BY DEFAULT */
    transform: scale(0.9);
    
    transition: all 0.6s ease; 
    white-space: nowrap; 
}

/* HOVER STATE */
.signature-wrapper:hover .signature-mark { 
    opacity: 1;         /* <--- VISIBLE ON HOVER */
    transform: scale(1); 
    text-shadow: 0 0 10px rgba(255,255,255,1); 
}
/* =========================================
   4. NEW NAVIGATION SYSTEM (Control Deck)
   ========================================= */

/* Top Left Brand Corner */
#brand-corner { 
    position: fixed; top: 35px; left: 4%; 
    font-size: 1.8rem; font-weight: 800; 
    color: var(--accent-color); cursor: pointer; 
    text-transform: uppercase; letter-spacing: 1px; 
    z-index: 5000; 
    text-shadow: 0 2px 10px rgba(0,0,0,0.8);
    transition: transform 0.2s ease;
}
#brand-corner:hover { transform: scale(1.05); }

/* The Bottom Control Deck */
#control-deck { 
    position: fixed; bottom: 40px; left: 0; width: 100%; height: 60px; 
    display: flex; align-items: center; justify-content: space-between; 
    padding: 0 4%; 
    z-index: 5000; 
    pointer-events: none; /* Let clicks pass through empty space */
    transition: opacity 0.6s ease, transform 0.6s ease;
}

/* Ghost Mode (Idle State) */
body.ui-idle #control-deck { 
    opacity: 0; 
    transform: translateY(20px); 
    pointer-events: none !important;
}

/* Hide Control Deck when Modal is Open */
body.modal-active #control-deck {
    opacity: 0 !important;
    transform: translateY(20px);
    pointer-events: none;
}

/* Deck Zones */
.deck-left, .deck-center, .deck-right { pointer-events: auto; display: flex; align-items: center; }
.deck-left { width: 100px; }
.deck-right { width: 100px; justify-content: flex-end; }
.deck-center { flex-grow: 1; justify-content: center; }

/* The Nav Pill (Glass Dock) - SLEEP/WAKE BEHAVIOR */
.nav-pill { 
    background: rgba(15, 15, 15, 0.6); 
    backdrop-filter: blur(20px); 
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.12); 
    border-radius: 50px; 
    
    /* IDLE STATE: Low, Small, Tight */
    padding: 0 25px; 
    height: 40px; 
    gap: 20px;
    
    /* Pushes it down slightly to align with the bottom of the other buttons */
    transform: translateY(5px); 
    
    display: flex; align-items: center; 
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    
    /* Smooth Physics for everything */
    transition: 
        height 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
        padding 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
        gap 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
        transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), /* Handles the rise */
        background-color 0.3s ease,
        box-shadow 0.3s ease,
        border-color 0.3s ease;
}

/* HOVER STATE: Rise & Shine */
.nav-pill:hover { 
    height: 56px;       /* Full Height */
    padding: 0 40px;    
    gap: 35px;          
    
    transform: translateY(0); /* Rises up to original position */
    
    background: rgba(25, 25, 25, 0.8); 
    border-color: rgba(255, 255, 255, 0.25);
    box-shadow: 0 20px 50px rgba(0,0,0,0.6);
}

.nav-pill span { 
    font-size: 0.75rem; /* Tiny text when idle */
    color: #888; cursor: pointer; 
    font-weight: 600; text-transform: uppercase; letter-spacing: 1px;
    transition: 
        color 0.3s, 
        transform 0.3s,
        font-size 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); /* Animate text size */
    position: relative; 
}

/* Text grows when the dock wakes up */
.nav-pill:hover span { font-size: 0.85rem; }

.nav-pill span:hover { color: white; text-shadow: 0 0 10px rgba(255,255,255,0.5); transform: translateY(-1px); }
.nav-pill span.active-view { color: white; }
/* The Railgun Search (Right) - UPGRADED */
.railgun-search-wrapper { 
    position: relative; 
    height: 50px; 
    display: flex; 
    align-items: center; 
    justify-content: flex-end; 
}

.railgun-input { 
    position: absolute; 
    right: 25px; /* Tucked behind the icon center */
    
    /* Dimensions */
    width: 0; 
    height: 46px; /* Matches icon height roughly */
    padding: 0; 
    
    /* Visuals: Glass Pill Style */
    background: rgba(10, 10, 10, 0.9); 
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.15); 
    border-radius: 30px; /* Full Capsule Shape */
    
    /* Text Styles */
    color: white; 
    font-size: 0.95rem; 
    font-weight: 500;
    
    /* Initial Hidden State */
    opacity: 0; 
    pointer-events: none;
    
    /* THE ANIMATION: Width first, Opacity delayed */
    transition: 
        width 0.5s var(--ease-spring), 
        opacity 0.3s ease, 
        padding 0.3s ease,
        box-shadow 0.3s ease; 
        
    z-index: 1; /* Behind the icon */
}

/* OPEN STATE */
.railgun-input:focus, 
.railgun-search-wrapper:hover .railgun-input { 
    width: 260px; 
    padding: 0 50px 0 20px; /* Right padding ensures text doesn't hit the icon */
    opacity: 1; 
    pointer-events: all; 
    
    /* The Glow Up */
    border-color: rgba(255, 255, 255, 0.3);
    box-shadow: 0 0 25px rgba(0,0,0,0.5);
}

.railgun-icon { 
    width: 50px; height: 50px; 
    background: rgba(15, 15, 15, 0.6); 
    backdrop-filter: blur(20px); 
    border: 1px solid rgba(255,255,255,0.15); 
    border-radius: 50%; 
    
    display: flex; align-items: center; justify-content: center; 
    cursor: pointer; 
    color: #ddd;
    
    transition: all 0.3s var(--ease-lux); 
    z-index: 2; /* Sits on top of the input bar */
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.railgun-search-wrapper:hover .railgun-icon { 
    background: white; 
    color: black; 
    border-color: white; 
    transform: rotate(90deg) scale(1.1); 
    box-shadow: 0 0 25px rgba(255,255,255,0.3);
}
/* =========================================
   5. NEW ARC MENU (Mirrored for Bottom-Left)
   ========================================= */
.arc-menu-container {
    position: relative; /* Now relative to deck-left */
    width: 50px; height: 50px;
    z-index: 5002;
    overflow: visible; 
}

/* The Fan Bridge - Flips to Top-Right */
.arc-menu-container::before {
    content: ''; position: absolute; bottom: 0; left: 0; 
    width: 200px; height: 200px; /* <--- SHRUNK DOWN */
    background: transparent;
    border-radius: 0 100% 0 0; 
    z-index: 5000; pointer-events: none;
    transform: scale(0); transform-origin: bottom left; 
    transition: transform 0.1s;
}
.arc-menu-container:hover::before { pointer-events: auto; transform: scale(1); }

/* The Trigger */
.arc-trigger {
    width: 100%; height: 100%;
    background: rgba(15, 15, 15, 0.6); backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 50%;
    display: flex; justify-content: center; align-items: center; cursor: pointer;
    transition: all 0.3s var(--ease-lux); z-index: 5003;
}
.arc-trigger:hover { background: white; border-color: white; box-shadow: 0 0 20px rgba(255,255,255,0.4); }

.arc-burger { width: 18px; height: 13px; display: flex; flex-direction: column; justify-content: space-between; pointer-events: none; }
.arc-burger span { display: block; width: 100%; height: 2px; background: white; border-radius: 2px; transition: all 0.3s var(--ease-spring); }
.arc-trigger:hover .arc-burger span { background: black; }
.arc-menu-container:hover .arc-burger span:nth-child(1) { transform: translateY(5.5px) rotate(45deg); }
.arc-menu-container:hover .arc-burger span:nth-child(2) { opacity: 0; }
.arc-menu-container:hover .arc-burger span:nth-child(3) { transform: translateY(-5.5px) rotate(-45deg); }

/* Satellites - Positioning & Animation */
.arc-satellite {
    position: absolute; top: 0; left: 0;
    width: 50px; height: 50px;
    background: rgba(20, 20, 20, 0.9); backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    cursor: pointer; color: white; z-index: 5001;
    transform: translate(0, 0) scale(0.5); opacity: 0;
    transition: all 0.4s var(--ease-spring);
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}

.arc-satellite svg { width: 20px; height: 20px; pointer-events: none; }

/* HOVER: FLY OUT (Up & Right) - TIGHTER ORBIT */

/* 1. Identity: Up (Y axis only) */
.arc-menu-container:hover .sat-identity {
    transform: translate(0, -160%) scale(1); /* Was -230% */
    opacity: 1; transition-delay: 0.05s;
}

/* 2. Stats: Diagonal (Up & Right) */
.arc-menu-container:hover .sat-stats {
    transform: translate(120%, -120%) scale(1); /* Was 180% */
    opacity: 1; transition-delay: 0.1s;
}

/* 3. Help: Right (X axis only) */
.arc-menu-container:hover .sat-help {
    transform: translate(160%, 0) scale(1); /* Was 230% */
    opacity: 1; transition-delay: 0.15s;
}

/* INDIVIDUAL HOVER (Lock + Scale) */
/* Important: These values must match the ones above! */
.arc-menu-container:hover .sat-identity:hover {
    background: var(--accent-color); border-color: var(--accent-color);
    box-shadow: 0 0 15px rgba(216, 31, 38, 0.6);
    transform: translate(0, -160%) scale(1.15); z-index: 5005;
}
.arc-menu-container:hover .sat-stats:hover {
    background: var(--accent-color); border-color: var(--accent-color);
    box-shadow: 0 0 15px rgba(216, 31, 38, 0.6);
    transform: translate(120%, -120%) scale(1.15); z-index: 5005;
}
.arc-menu-container:hover .sat-help:hover {
    background: var(--accent-color); border-color: var(--accent-color);
    box-shadow: 0 0 15px rgba(216, 31, 38, 0.6);
    transform: translate(160%, 0) scale(1.15); z-index: 5005;
}

/* --- UNIVERSAL PAGE HEADER (Restores Desktop Look) --- */
.list-page-header {
    padding: 100px 4% 40px 4%; 
    display: flex; 
    align-items: center; 
    justify-content: space-between; 
    flex-wrap: wrap; 
    gap: 15px;
    width: 100%;
}

.list-page-header.empty-list {
    padding-bottom: 10px;
    display: block;
}

.list-page-header h2 {
    margin: 0;
    font-size: 2.2rem;
    font-weight: 800;
    color: white;
}

/* =========================================
   6. MAIN LAYOUT & CARDS (Standard)
   ========================================= */
/* =========================================
   REBORN HERO: THE CINEMATIC MONOLITH
   ========================================= */
#hero-container { 
    position: relative; 
    height: 100vh; 
    width: 100%; 
    overflow: hidden; 
    background: #000; 
    display: flex;
    align-items: center;
    justify-content: center;
}

/* 1. Base Slide - Centered and Ready to Dissolve */
.hero-slide { 
    position: absolute; 
    top: 0; left: 0; 
    width: 100%; height: 100%; 
    display: flex; 
    align-items: center; 
    justify-content: center;
    
    /* Using your lux easing for a premium feel */
    transition: opacity 1s var(--ease-lux), 
                transform 1.2s var(--ease-lux),
                visibility 1s; 
    
    opacity: 0;
    visibility: hidden; 
    z-index: 1;
    transform: scale(1.05); /* Start slightly larger */
}

/* 2. The Active Slide - Settled and Sharp */
.hero-slide.active { 
    opacity: 1;
    visibility: visible; 
    z-index: 2;
    transform: scale(1) translate3d(0, 0, 0);
}

/* 3. The "In-Progress" Classes (Overriding the slide logic) */
/* We keep the names so your script.js doesn't break, but we change the behavior */

.hero-slide.enter-right, 
.hero-slide.enter-left { 
    transform: scale(1.1); /* Emerges from the depth */
    opacity: 0; 
    z-index: 3; 
    visibility: visible; 
}

.hero-slide.exit-left, 
.hero-slide.exit-right { 
    transform: scale(0.95); /* Recedes into the background */
    opacity: 0; 
    z-index: 1;
}

/* The Blurred Ghost Background */
.hero-bg-wrapper {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 0;
    overflow: hidden;
}

/* 1. Background Blur & Darkness */
.hero-img-blur { 
    position: absolute; 
    top: -10%; left: -10%; 
    width: 120%; height: 120%; 
    object-fit: cover; 
    filter: blur(15px) brightness(0.4); 
    z-index: 1;
}

/* 2. Ghost Text Opacity */
.hero-ghost-title {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Pirata One', cursive;
    /* Reduced from 25vw to 18vw for a more elegant scale */
    font-size: 18vw; 
    line-height: 0.8;
    white-space: nowrap;
    color: transparent;
    /* Reduced opacity from 0.12 to 0.07 for a true 'ghost' effect */
    -webkit-text-stroke: 1px rgba(255, 255, 255, 0.07); 
    pointer-events: none;
    z-index: 1;
    text-transform: uppercase;
}

.hero-vignette {
    position: absolute;
    inset: -1px; /* Overlaps edges by 1px to kill the "hairline" */
    /* Layered gradients: Bottom, Left, and Right */
    background: 
        linear-gradient(to top, #050505 0%, transparent 40%),
        linear-gradient(to right, #050505 0%, transparent 20%),
        linear-gradient(to left, #050505 0%, transparent 20%);
    z-index: 2;
    pointer-events: none;
}

/* The 3-Column Layout */
/* --- NEW HERO LAYOUT (SUGGESTION 1: MAGAZINE STYLE) --- */

.hero-layout-grid.suggestion-one {
    position: relative;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 80px; /* Cinematic space between poster and text */
    width: 90%;
    max-width: 1300px;
    /* No more translateX nudges needed! Flex-center handles the balance. */
}

/* LEFT SIDE: The Tilting Poster */
.hero-poster-box {
    width: 380px; /* Slightly refined size for better balance */
    aspect-ratio: 2/3;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 30px 100px rgba(0,0,0,0.8);
    border: 1px solid rgba(255,255,255,0.1);
    transform-style: preserve-3d;
    transition: transform 0.1s ease-out;
    cursor: pointer;
    flex-shrink: 0; /* Prevents poster from squishing */
}

.hero-poster-box img {
    width: 100%; height: 100%;
    object-fit: cover;
}

/* RIGHT SIDE: The Unified Info Stack */
.hero-info-stack {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 25px;
    max-width: 550px;
    text-align: left;
}

/* Clean Meta Row (replacing the old vertical meta) */
.h-meta-row {
    display: flex;
    align-items: center;
    gap: 15px;
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
    font-weight: 600;
    letter-spacing: 1.5px;
    text-transform: uppercase;
}

.meta-divider {
    color: var(--accent-color); /* Your Crimson Red */
    font-weight: 800;
}

/* Typography & Button Refinements */
.hero-title-v2 {
    font-family: 'Inter', sans-serif;
    font-size: clamp(2.5rem, 4.5vw, 3.8rem);
    font-weight: 800;
    line-height: 1.05;
    margin: 0;
    letter-spacing: -1.5px;
}

.hero-desc-v2 {
    font-size: 1.05rem;
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.6;
    margin: 0;
    /* Keeps description from getting too long */
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* The Signature Crimson Button */
.hero-info-stack .btn-primary {
    display: inline-flex;
    align-items: center;
    padding: 0.7rem 1.8rem;
    font-size: 0.9rem;
    border-radius: 4px;
    border: none;
    font-weight: 600;
    font-family: 'Inter', sans-serif;
    cursor: pointer;
    background-color: var(--accent-color);
    color: white;
    box-shadow: 0 4px 20px rgba(216, 31, 38, 0.4);
    transition: transform 0.2s var(--ease-lux);
}

.hero-info-stack .btn-primary:hover {
    transform: scale(1.05);
    background-color: #ff222b;
}

/* Minimalist & Subtle Hero Controls */
.hero-control {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px; /* Smaller footprint */
    height: 80px; /* Taller hit area, narrower width */
    background: transparent; /* No circle background by default */
    color: white;
    font-size: 1.5rem;
    font-weight: 200; /* Thinner font weight */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 100;
    transition: all 0.4s var(--ease-lux);
    opacity: 0; /* Fully hidden until hover */
}

/* Specific Positioning */
.prev-btn { left: 20px; }
.next-btn { right: 20px; }

/* Ghost Hover: Subtle fade-in when hovering the whole container */
#hero-container:hover .hero-control { 
    opacity: 0.3; /* Very subtle default visibility */
}

/* Active Hover: When specifically hovering the arrow */
.hero-control:hover {
    opacity: 1 !important;
    transform: translateY(-50%) scale(1.2);
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.8); /* Glow effect instead of a box */
}

/* Ensure the arrows don't have that "button" look */
.hero-control {
    border: none;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

/* Library & Cards */
.row-wrapper-relative { position: relative; }
.scroll-paddle { 
    position: absolute; 
    top: 0; 
    bottom: 0; 
    
    /* CHANGED: Reduced from 8% to 4% */
    width: 4%; 
    
    /* CHANGED: Reduced from 60px to 40px */
    min-width: 40px; 
    
    z-index: 20; 
    display: flex; 
    align-items: center; 
    cursor: pointer; 
    opacity: 0; 
    transition: opacity 0.3s ease; 
    color: transparent; 
    font-size: 0; 
}
.scroll-paddle.left { left: 0; justify-content: flex-start; padding-left: 15px; }
.scroll-paddle.right { right: 0; justify-content: flex-end; padding-right: 15px; }
.scroll-paddle:hover { opacity: 1; }
.scroll-paddle::after { 
    content: '‹'; 
    font-family: 'Inter', sans-serif; 
    font-weight: 300; 
    
    /* CHANGED: Reduced from 2.5rem to 2rem */
    font-size: 2rem; 
    
    line-height: 0; 
    padding-bottom: 5px; 
    color: rgba(255, 255, 255, 0.7); 
    text-shadow: 0 2px 8px black; 
    transition: all 0.2s ease; 
    flex-shrink: 0; 
}
.scroll-paddle.right::after { content: '›'; }
.scroll-paddle:hover::after { color: white; transform: scale(1.25); text-shadow: 0 0 5px white, 0 0 15px white, 0 0 30px var(--accent-color); }

.category-row { margin: 10px 0 10px 0; padding-left: 4%; position: relative; z-index: 10; }
.row-header-wrapper { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
.row-header { font-size: 1.3rem; font-weight: 600; color: #ddd; border-left: 3px solid var(--accent-color); padding-left: 10px; display: inline-flex; align-items: center; gap: 10px; margin: 0; }
.row-container { display: flex; overflow-x: auto; overflow-y: hidden; padding: 40px 4% 60px 4%; scroll-behavior: smooth; margin: 0 -4%; width: 108%; mask-image: linear-gradient(to right, transparent 0%, black 6%, black 94%, transparent 100%); -webkit-mask-image: linear-gradient(to right, transparent 0%, black 6%, black 94%, transparent 100%); }

.library-section { margin-bottom: 60px; }
.library-toggle, .shuffle-btn, .dropdown-btn { background: rgba(255, 255, 255, 0.04) !important; border: 1px solid rgba(255, 255, 255, 0.15) !important; backdrop-filter: blur(10px) !important; border-radius: 12px !important; color: #ddd !important; font-weight: 600; padding: 8px 16px !important; display: inline-flex; align-items: center; gap: 8px; transition: all 0.2s ease; font-size: 0.8rem; cursor: pointer; }
.library-toggle:hover, .shuffle-btn:hover, .dropdown-btn:hover { background: rgba(255, 255, 255, 0.15) !important; border-color: rgba(255, 255, 255, 0.5) !important; color: white !important; transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
.shuffle-btn { font-size: 0.75rem !important; text-transform: uppercase !important; letter-spacing: 1px !important; font-weight: 700 !important; padding: 10px 20px !important; box-shadow: none !important; }
.shuffle-btn:hover { background: white !important; color: black !important; border-color: white !important; box-shadow: 0 0 15px rgba(255,255,255,0.4) !important; }
.custom-dropdown { position: relative; display: inline-block; z-index: 100; }
.dropdown-menu { position: absolute; top: 110%; right: 0; background: rgba(15, 15, 15, 0.95) !important; min-width: 180px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.15) !important; box-shadow: 0 10px 40px rgba(0,0,0,0.8); opacity: 0; transform: translateY(-10px); pointer-events: none; transition: all 0.2s var(--ease-lux); overflow: hidden; display: flex; flex-direction: column; padding: 6px !important; backdrop-filter: blur(15px); }
.custom-dropdown.active .dropdown-menu { opacity: 1; transform: translateY(0); pointer-events: all; }
.dropdown-item { padding: 12px 20px; cursor: pointer; color: #ccc; font-size: 0.9rem; transition: 0.2s; display: flex; align-items: center; justify-content: space-between; border-radius: 8px; }
.dropdown-item:hover { background: rgba(255, 255, 255, 0.15); color: white; padding-left: 25px; }

.library-container.row-view { display: flex; overflow-x: auto; overflow-y: hidden; padding: 20px 4% 30px 4%; margin: 0 -4%; width: 108%; mask-image: linear-gradient(to right, transparent 0%, black 6%, black 94%, transparent 100%); -webkit-mask-image: linear-gradient(to right, transparent 0%, black 6%, black 94%, transparent 100%); }
.library-container.grid-view, .search-results-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 40px; padding: 20px 0; margin: 0; width: 100%; animation: expandGrid 0.4s var(--ease-lux); }
.search-results-grid { padding: 4% 4% 120px 4%; min-height: 60vh; animation: slideUpFade 0.6s var(--ease-lux) forwards; }
@keyframes expandGrid { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideUpFade { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

/* Cards */
.card { flex: 0 0 auto; width: 160px; height: 240px; margin-right: 15px; border-radius: 6px; position: relative; cursor: pointer; background-color: #222; transform-origin: center center; transition: transform 0.4s var(--ease-lux), box-shadow 0.4s var(--ease-lux); box-shadow: 0 4px 8px rgba(0,0,0,0.3); overflow: hidden; backface-visibility: hidden; transform: translateZ(0); will-change: transform; scroll-snap-align: start; }
.library-container.grid-view .card { margin-right: 0; }
.card img { width: 100%; height: 100%; object-fit: cover; border-radius: 6px; position: relative; z-index: 10; background: #222; }
.poster-placeholder { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%); display: flex; align-items: center; justify-content: center; padding: 15px; text-align: center; color: #555; font-weight: 700; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; z-index: 5; }
.card:hover { transform: scale(1.1) translateY(-5px); z-index: 50; box-shadow: 0 15px 40px rgba(0,0,0,0.8); border: 1px solid rgba(255,255,255,0.2); }
.card-rating-badge { position: absolute; top: 10px; left: 10px; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(4px); border: 1px solid rgba(255, 255, 255, 0.2); color: #fff; padding: 5px 10px; border-radius: 20px; display: flex; align-items: center; gap: 4px; opacity: 0; transform: translateY(-5px); transition: all 0.3s var(--ease-lux); z-index: 60; font-size: 0.75rem; font-weight: 800; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
.card:hover .card-rating-badge { opacity: 1; transform: translateY(0); }
.card-icon-container { position: absolute; top: 10px; right: 10px; width: 26px; height: 26px; background: rgba(0, 0, 0, 0.6); border: 1px solid rgba(255,255,255,0.5); border-radius: 50%; color: white; display: flex; justify-content: center; align-items: center; font-size: 20px; font-weight: 600; opacity: 0; transform: scale(0.5); transition: all 0.3s var(--ease-lux); z-index: 60; backdrop-filter: blur(4px); }
.card:hover .card-icon-container { opacity: 1; transform: scale(1); }
.card-icon-container.active { background: #FFFFFF; border-color: #FFFFFF; color: #000000; }
.card-icon-container:not(.active):not(.active-red):not(.active-blue):not(.active-green):hover { background-color: var(--accent-color) !important; border-color: var(--accent-color) !important; color: white !important; transform: scale(1.15) !important; box-shadow: 0 0 15px rgba(216, 31, 38, 0.6) !important; }

.card-info-overlay { position: absolute; bottom: 0; left: 0; width: 100%; height: 70%; padding: 12px; background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.2) 20%, rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.95) 85%, #000000 100%); opacity: 0; transform: translateY(10px); transition: all 0.4s var(--ease-lux); pointer-events: none; display: flex; flex-direction: column; justify-content: flex-end; align-items: flex-start; text-align: left; z-index: 55; }
.card:hover .card-info-overlay { opacity: 1; transform: translateY(0); }
.card-title-ov { font-size: 0.9rem; font-weight: 700; margin-bottom: 6px; color: white; line-height: 1.1; text-shadow: 0 2px 4px black; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.card-meta-ov { display: flex; flex-direction: row; align-items: center; gap: 8px; font-size: 0.7rem; font-weight: 600; color: #d0d0d0; width: 100%; line-height: 1; }
.card-meta-ov > span:nth-of-type(1) { color: var(--green-highlight); font-weight: 700; font-size: 0.8rem; }
.age-badge { background: rgba(255,255,255,0.15); backdrop-filter: blur(4px); border-radius: 3px; padding: 2px 5px; font-size: 0.65rem; color: #fff !important; font-weight: 700; display: inline-flex; align-items: center; justify-content: center; line-height: 1; display: none; }

/* Active & Danger Buttons */
.card-icon-container.active, .card-icon-container.active-red, .card-icon-container.active-blue, .card-icon-container.active-green { background: #FFFFFF; border-color: #FFFFFF; color: #000000; position: absolute; overflow: hidden; transition: all 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
.card-icon-container.active-red { background: var(--accent-color) !important; border-color: var(--accent-color) !important; color: white !important; box-shadow: 0 0 15px rgba(216, 31, 38, 0.4); }
.card-icon-container.active-blue { background: var(--future-color) !important; border-color: var(--future-color) !important; color: white !important; box-shadow: 0 0 15px rgba(63, 169, 245, 0.4); }
.card-icon-container.active-green { background: var(--green-highlight) !important; border-color: var(--green-highlight) !important; color: white !important; box-shadow: 0 0 15px rgba(70, 211, 105, 0.4); }
.card-icon-container svg { transition: all 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275); transform-origin: center; }
.card-icon-container::after { content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0) rotate(90deg); width: 12px; height: 3px; background-color: white; border-radius: 2px; opacity: 0; transition: all 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: 0 0 4px rgba(255,255,255,0.5); }
.card-icon-container.active:hover, .card-icon-container.active-red:hover, .card-icon-container.active-blue:hover, .card-icon-container.active-green:hover { background-color: #8a0005 !important; border-color: var(--accent-color) !important; box-shadow: 0 0 20px rgba(216, 31, 38, 0.5) !important; transform: scale(1.15) !important; z-index: 100; }
.card-icon-container.active:hover svg, .card-icon-container.active-red:hover svg, .card-icon-container.active-blue:hover svg, .card-icon-container.active-green:hover svg { transform: scale(0); opacity: 0; }
.card-icon-container.active:hover::after, .card-icon-container.active-red:hover::after, .card-icon-container.active-blue:hover::after, .card-icon-container.active-green:hover::after { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 1; }

/* Load More Button Container */
.load-more-container {
    width: 100%;
    display: flex;
    justify-content: center; /* Centers the button horizontally */
    align-items: center;
    padding: 30px 0 80px 0; /* Top space from grid, Bottom space for scrolling */
    animation: fadeInUp 0.4s ease forwards;
}

/* =========================================
   7. MODAL (Detail View)
   ========================================= */
.modal-backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(8px); z-index: 2000; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; }
.modal-backdrop.open { opacity: 1; pointer-events: all; }
.modal-content { background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(10px); width: 90%; max-width: 850px; max-height: 90vh; border-radius: 12px; overflow-y: auto; position: relative; box-shadow: 0 50px 100px rgba(0,0,0,0.9); border: 1px solid rgba(255,255,255,0.1); transform: scale(0.95) translateY(20px); transition: all 0.4s var(--ease-lux); will-change: transform, opacity; }
.modal-backdrop.open .modal-content { transform: scale(1) translateY(0); }
.modal-header-container { position: relative; height: 400px; width: 100%; overflow: hidden; background: #111; }
.modal-header-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
.modal-gradient { position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to top, #000000 10%, transparent 100%); }
.close-modal { position: fixed; top: 30px; right: 30px; width: 40px; height: 40px; border-radius: 50%; background: rgba(0,0,0,0.7); color: white; border: 1px solid rgba(255,255,255,0.3); display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 3000; backdrop-filter: blur(5px); transition: transform 0.2s ease; }
.close-modal:hover { background: white; color: black; transform: scale(1.1); }
.modal-body { padding: 0 40px 40px 40px; margin-top: -80px; position: relative; z-index: 5; }
.modal-title { font-size: 2.5rem; font-weight: 800; margin-bottom: 10px; text-shadow: 0 2px 10px black; }
.modal-meta { display: flex; align-items: center; justify-content: space-between; width: 100%; margin-bottom: 20px; }
.meta-info-group { display: flex; align-items: center; gap: 5px !important; flex-wrap: wrap; justify-content: flex-end; }
.badge-group { display: flex; gap: 10px; align-items: center; }
#imdb-badge, #youtube-badge { padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; cursor: pointer; transition: transform 0.2s; display: none; }
#imdb-badge { background: var(--imdb-color); color: black; font-weight: 900; }
#youtube-badge { background-color: #FF0000 !important; color: #FFFFFF !important; font-weight: 700; }
#imdb-badge:hover, #youtube-badge:hover { transform: scale(1.05); filter: brightness(1.1); }
.meta-tag, #m-rating, #m-age, #m-date, #m-runtime, #m-type { background: rgba(255, 255, 255, 0.04) !important; border: 1.5px solid rgba(255, 255, 255, 0.25) !important; backdrop-filter: blur(5px); border-radius: 4px !important; padding: 3px 8px !important; font-size: 0.75rem !important; font-weight: 600 !important; line-height: 1 !important; letter-spacing: 0.3px; margin: 0 3px 5px 0 !important; color: #ddd !important; display: inline-flex; align-items: center; justify-content: center; }
#m-rating { border-color: rgba(245, 197, 24, 0.3) !important; color: #f5c518 !important; }
.meta-tag:empty, #m-runtime:empty { display: none !important; }
.modal-actions { display: flex; gap: 15px; margin-top: 30px; }
.action-btn, .season-btn, .season-tab { background: rgba(255, 255, 255, 0.04) !important; border: 1px solid rgba(255, 255, 255, 0.15) !important; backdrop-filter: blur(10px) !important; border-radius: 12px !important; color: #ddd !important; font-weight: 600; padding: 10px 20px !important; display: inline-flex; align-items: center; gap: 10px; transition: all 0.2s ease; }
.action-btn:hover, .season-btn:hover, .season-tab:hover { background: rgba(255, 255, 255, 0.15) !important; border-color: rgba(255, 255, 255, 0.5) !important; color: white !important; transform: scale(1.05); box-shadow: 0 4px 15px rgba(255, 255, 255, 0.15); z-index: 10; }
.action-btn.active#btn-fav, .action-btn.active#btn-watch, .action-btn.active#btn-watched { background: var(--accent-color) !important; border-color: var(--accent-color) !important; box-shadow: 0 0 15px rgba(216, 31, 38, 0.4); color: white !important; }
#btn-share:hover { background: rgba(63, 169, 245, 0.25) !important; color: #3fa9f5 !important; border-color: #3fa9f5 !important; transform: scale(1.05); }

/* Seasons & Episodes */
.season-tab { display: inline-flex !important; white-space: nowrap !important; flex-shrink: 0; }
.season-tab.active { background: white !important; border-color: white !important; color: black !important; box-shadow: 0 0 15px rgba(255,255,255,0.3); }
.season-chevron { display: inline-block; width: 8px; height: 8px; border-right: 2px solid currentColor; border-bottom: 2px solid currentColor; transform: rotate(45deg); transition: transform 0.3s; margin-top: -3px; }
.season-tab.active .season-chevron { transform: rotate(-135deg); margin-top: 3px; }
.status-dot { width: 6px; height: 6px; border-radius: 50%; display: none; }
.season-tab.completed .status-dot { display: block; background: var(--accent-color); box-shadow: 0 0 4px var(--accent-color); }
.season-tab.incomplete .status-dot { display: block; background: var(--green-highlight); box-shadow: 0 0 4px var(--green-highlight); }
.season-tab.watchlist .status-dot { display: block; background: var(--future-color); box-shadow: 0 0 4px var(--future-color); }
.modal-section { margin-top: 30px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; animation: fadeInUp 0.6s ease forwards; contain: none !important; overflow: visible !important; }
@keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
.modal-section-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 15px; color: #eee; }
.season-list { display: flex; gap: 10px; overflow-x: auto; padding: 15px !important; margin-left: -15px !important; width: calc(100% + 30px) !important; overflow-y: visible !important; }
.episode-list { display: none; flex-direction: column; gap: 10px; max-height: 400px; overflow-y: auto; margin-top: 15px; opacity: 0; transition: opacity 0.4s ease; padding: 15px !important; margin: 0 -15px !important; width: calc(100% + 30px) !important; overflow-x: visible !important; }
.episode-list.visible { display: flex; opacity: 1; }
.episode-card { display: flex; gap: 20px !important; background: rgba(255,255,255,0.03) !important; padding: 12px 15px !important; border-radius: 12px !important; align-items: center; transition: all 0.2s ease; cursor: pointer; border: 1px solid rgba(255, 255, 255, 0.08) !important; backdrop-filter: blur(5px); }
.episode-card:hover { transform: scale(1.02); background: rgba(255, 255, 255, 0.1) !important; border-color: rgba(255, 255, 255, 0.3) !important; box-shadow: 0 4px 20px rgba(0,0,0,0.4); z-index: 5; }
.ep-check { width: 16px !important; height: 16px !important; border: 2px solid #555; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; flex-shrink: 0; margin: 0 !important; }
.ep-check:hover { border-color: white; }
.ep-check.watched { background: var(--accent-color); border-color: var(--accent-color); color: white; }
.ep-img { width: 120px; height: 68px; object-fit: cover; border-radius: 6px !important; flex-shrink: 0; background: #333; box-shadow: 0 2px 8px rgba(0,0,0,0.3); }
.ep-info { flex-grow: 1; }
.ep-title { font-size: 0.95rem; font-weight: 600; color: white; margin-bottom: 4px; }
.ep-meta { font-size: 0.8rem; color: #888; }
.season-actions { margin-top: 15px; display: flex; gap: 10px; }
.season-btn.active-watched { background: var(--accent-color) !important; border-color: var(--accent-color) !important; color: white !important; }
.season-btn.active-watchlist { background: white !important; border-color: white !important; color: black !important; }
.collection-list { display: flex; gap: 15px; overflow-x: auto; padding: 20px 15px 20px 15px; mask-image: linear-gradient(to right, black calc(100% - 40px), transparent 100%); -webkit-mask-image: linear-gradient(to right, black calc(100% - 40px), transparent 100%); }
.collection-card { flex: 0 0 auto; width: 110px; cursor: pointer; transition: transform 0.2s var(--ease-lux); position: relative; }
.collection-card:hover { transform: scale(1.1); z-index: 10; }
.collection-card:hover .c-poster { box-shadow: 0 10px 30px rgba(0,0,0,0.8); border: 1px solid rgba(255,255,255,0.3); }
.c-poster { width: 100%; aspect-ratio: 2/3; border-radius: 6px; object-fit: cover; margin-bottom: 8px; background: #222; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
.c-title { font-size: 0.85rem; font-weight: 600; color: #ddd; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.c-year { font-size: 0.75rem; color: #777; font-weight: 600; }

/* =========================================
   8. SETTINGS, STATS & LEGEND (Shared Overlays)
   ========================================= */
.settings-modal, #stats-modal, #st-ladder { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); z-index: 6000; display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.4s ease, visibility 0.4s ease; }
.settings-modal.open, #stats-modal.open, #st-ladder.open { opacity: 1; visibility: visible; pointer-events: all; }
#stats-modal .settings-content, #st-ladder .settings-content { background: transparent !important; border: none !important; box-shadow: none !important; padding: 0 !important; max-width: 1200px !important; width: 90vw !important; display: flex; flex-direction: column; align-items: center; }

/* Settings Specific */
.settings-content { background: rgba(10, 10, 10, 0.6); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.08); width: 90%; max-width: 400px; padding: 30px; border-radius: 12px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.8); transform: translateY(20px); transition: transform 0.3s ease; position: relative; }
.settings-modal.open .settings-content { transform: translateY(0); }
.close-settings { position: absolute; top: 15px; right: 15px; cursor: pointer; color: #888; font-size: 1.2rem; }
.close-settings:hover { color: white; }

/* Identity (Crimson) Logic */
#settings-modal { background: rgba(0, 0, 0, 0.70) !important; backdrop-filter: blur(10px); }
#settings-modal .settings-content { max-width: 650px !important; width: 95%; background: rgba(255, 255, 255, 0.03) !important; backdrop-filter: blur(50px) !important; border: 1px solid rgba(255, 255, 255, 0.15) !important; box-shadow: 0 30px 80px rgba(0,0,0,0.5) !important; padding: 0; overflow: visible !important; display: flex; flex-direction: column; border-radius: 16px; }
.close-settings { top: -60px; right: 0; width: 45px; height: 45px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: white; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.2rem; backdrop-filter: blur(10px); transition: all 0.2s ease; z-index: 100; }
.close-settings:hover { background: var(--accent-color); color: white; transform: scale(1.1) rotate(90deg); }
.identity-wrapper { display: flex; flex-direction: column; padding: 60px 40px; gap: 50px; align-items: center; }
.ticket-section { width: 100%; display: flex; justify-content: center; perspective: 1000px; }
.landscape-ticket { width: 100%; max-width: 500px; height: 220px; background: #080808; border: 1px solid #8a0005; border-radius: 12px; display: flex; position: relative; overflow: hidden; transform-style: preserve-3d; will-change: transform; transition: transform 0.1s ease-out; box-shadow: 0 0 0 4px #0a0a0a, 0 0 0 5px #8a0005, 0 20px 60px rgba(138, 0, 5, 0.3); }
.ticket-stub-part { width: 80px; border-right: 2px dashed rgba(216, 31, 38, 0.3); display: flex; flex-direction: column; align-items: center; justify-content: center; background: rgba(255, 255, 255, 0.02); }
.stub-logo { font-family: 'Pirata One', cursive; color: var(--accent-color); font-size: 1.2rem; transform: rotate(-90deg); letter-spacing: 2px; white-space: nowrap; }
.stub-code { margin-top: 40px; font-family: monospace; font-size: 0.65rem; font-weight: 700; color: #555; transform: rotate(-90deg); white-space: nowrap; letter-spacing: 2px; text-transform: uppercase; }
.ticket-main-part { flex-grow: 1; padding: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; z-index: 10; }
.ticket-top-label { font-size: 0.6rem; letter-spacing: 4px; color: #884444; margin-bottom: 10px; font-weight: 700; }
.ticket-name-input { background: transparent; border: none; width: 100%; text-align: center; font-family: 'Cinzel Decorative', serif; font-size: 2.5rem; font-weight: 700; color: #ff4d4d; padding: 10px 0; margin-bottom: 20px; outline: none; text-transform: uppercase; background: linear-gradient(135deg, #fff 20%, #ff4d4d 50%, #8a0005 80%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 0 15px rgba(216, 31, 38, 0.3)); transition: all 0.3s ease; }
.ticket-name-input::placeholder { -webkit-text-fill-color: rgba(216, 31, 38, 0.5); text-shadow: 0 0 10px rgba(216, 31, 38, 0.8); }
.ticket-name-input:focus { transform: scale(1.05); filter: drop-shadow(0 0 25px rgba(216, 31, 38, 0.6)); }
.ticket-data-row { display: flex; align-items: flex-end; justify-content: center; gap: 30px; border-top: 1px solid rgba(216, 31, 38, 0.3); padding-top: 12px; width: 90%; margin-top: auto; }
.data-item { display: flex; flex-direction: column; align-items: center; text-align: center; min-width: 80px; }
.d-label { font-size: 0.5rem; color: #666; letter-spacing: 2px; margin-bottom: 4px; text-transform: uppercase; margin-right: -2px; }
.d-val { font-family: 'Inter', monospace; font-weight: 700; color: #ff6b6b; font-size: 0.95rem; line-height: 1; text-shadow: none; }
.data-sep { color: #8a0005; font-size: 0.8rem; opacity: 0.6; margin-bottom: 2px; }
.ticket-shimmer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent 30%, rgba(255, 50, 50, 0.05) 45%, transparent 60%); animation: shimmerPass 5s infinite; pointer-events: none; }
@keyframes shimmerPass { 0% { transform: translateX(-150%); } 100% { transform: translateX(150%); } }
.ghost-controls { display: flex; justify-content: center; align-items: center; gap: 25px; font-family: 'Inter', monospace; font-size: 0.75rem; letter-spacing: 2px; color: #555; font-weight: 700; }
.cmd-btn { cursor: pointer; transition: all 0.3s ease; padding-bottom: 2px; border-bottom: 1px solid transparent; }
.cmd-btn:hover { color: var(--accent-color); text-shadow: 0 0 15px rgba(216, 31, 38, 0.5); border-bottom-color: var(--accent-color); transform: translateY(-2px); }
.cmd-sep { opacity: 0.3; color: #444; }
.cmd-btn.danger:hover { color: #ff0000; text-shadow: 0 0 15px rgba(216, 31, 38, 0.5); border-bottom-color: #ff0000; }

/* The Record */
.record-container { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; pointer-events: auto; }
.record-pop-wrapper { width: 100%; max-width: 1200px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; opacity: 0; transform: translateY(30px) scale(0.98); transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); }
#stats-modal.open .record-pop-wrapper { opacity: 1 !important; transform: translateY(0) scale(1); }
.record-header-row { width: 100%; max-width: 1200px; display: flex; justify-content: center; align-items: center; position: relative; margin-bottom: 30px; }
.record-title { font-size: 1.8rem; font-weight: 600; color: white; text-transform: uppercase; letter-spacing: 2px; margin: 0; text-shadow: 0 0 25px rgba(255, 255, 255, 0.4); }
.record-card { background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(30px); border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 16px; width: 100%; padding: 50px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); display: grid; grid-template-columns: 1fr 1fr; gap: 60px; }
.record-left { display: flex; flex-direction: column; align-items: center; justify-content: center; border-right: 1px solid rgba(255,255,255,0.1); padding-right: 60px; }
.big-stat-number { font-size: 7rem; font-weight: 900; line-height: 1; color: white; text-shadow: 0 0 20px rgba(255, 255, 255, 0.15); margin-bottom: 10px; }
.rank-badge-large { font-size: 1.1rem; font-weight: 800; text-transform: uppercase; letter-spacing: 3px; padding: 10px 25px; border-radius: 30px; color: white; margin-bottom: 40px; border: 1px solid rgba(255,255,255,0.3); box-shadow: 0 0 30px rgba(0,0,0,0.6); display: inline-flex; }
.breakdown-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 100%; }
.stat-capsule { background: #000; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 10px; padding: 15px; display: flex; flex-direction: column; align-items: center; box-shadow: 0 5px 20px rgba(0,0,0,0.4); }
.cap-label { font-size: 0.65rem; color: #888; text-transform: uppercase; font-weight: 700; margin-bottom: 5px; }
.cap-val { font-size: 1.2rem; color: white; font-weight: 700; }
.record-right { display: flex; flex-direction: column; justify-content: center; }
.section-label { font-size: 0.9rem; color: #aaa; text-transform: uppercase; font-weight: 700; letter-spacing: 2px; margin-bottom: 25px; text-align: left; }
.genre-bar-row { display: flex; align-items: center; margin-bottom: 18px; }
.g-name { width: 110px; font-size: 0.9rem; color: #ddd; font-weight: 600; text-align: right; padding-right: 20px; }
.g-track { flex-grow: 1; height: 8px; background: rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden; }
/* FIX: Added background color so the bar is visible */
    .g-fill { 
        height: 100%; 
        border-radius: 10px; 
        background: var(--accent-color); /* The missing ingredient */
        box-shadow: 0 0 10px var(--accent-color); 
    }
.g-count { width: 40px; font-size: 0.9rem; color: white; font-weight: 700; text-align: right; }

/* The Legend */
.legend-pop-wrapper { width: 90% !important; max-width: 1200px !important; min-height: 200px; display: flex !important; flex-direction: column; align-items: center; opacity: 0; transform: translateY(40px) scale(0.9); transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1); }
#st-ladder.open .legend-pop-wrapper { opacity: 1; transform: translateY(0) scale(1); }
.legend-header-row { width: 100%; max-width: 1200px; display: flex; justify-content: center; align-items: center; position: relative; margin-bottom: 30px; }
.legend-heading { font-size: 1.8rem; font-weight: 600; color: white; text-transform: uppercase; letter-spacing: 2px; margin: 0; text-shadow: 0 0 25px rgba(255, 255, 255, 0.4); }
.legend-close { position: absolute; right: 0; top: 50%; transform: translateY(-50%); width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: white; display: flex; align-items: center; justify-content: center; font-size: 1rem; cursor: pointer; backdrop-filter: blur(5px); transition: all 0.2s ease; }
.legend-close:hover { background: white; color: black; transform: translateY(-50%) scale(1.1); }
.legend-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 30px; width: 100%; height: 500px; margin: 0 auto; }
.legend-card { background: rgba(0, 0, 0, 0.4) !important; backdrop-filter: blur(30px) !important; border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 16px; padding: 30px; display: flex; flex-direction: column; align-items: center; min-width: 300px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
.card-label { font-size: 0.9rem; font-weight: 700; color: #888; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 25px; width: 100%; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; }
.legend-card .season-tab, .legend-card .shuffle-btn { background: #000000 !important; border: 1px solid rgba(255, 255, 255, 0.2) !important; color: #ccc !important; box-shadow: 0 5px 20px rgba(0,0,0,0.6) !important; }

/* Share Card (Hidden) */
#share-card-container { position: fixed; top: -9999px; left: -9999px; width: 400px; height: 600px; z-index: -100; visibility: hidden; background: #000; }
#share-card { width: 100% !important; height: 100% !important; margin: 0 !important; border-radius: 16px !important; overflow: hidden; background: #111; box-shadow: none !important; transform: none !important; }
#share-card img { width: 100%; height: 100%; object-fit: cover; }

/* Skeleton Loading */
.skeleton { background: #121212; background: linear-gradient(110deg, #121212 8%, #252525 18%, #121212 33%); border-radius: 6px; background-size: 200% 100%; animation: shimmer 1.5s linear infinite; position: relative; overflow: hidden; pointer-events: none; }
@keyframes shimmer { to { background-position-x: -200%; } }
.skeleton-hero { width: 100%; height: 100vh; display: block; position: relative; z-index: 1; }
.skeleton-row { padding: 20px 4%; display: flex; overflow: hidden; gap: 15px; }
.skeleton-card { flex: 0 0 auto; width: 160px; height: 240px; border-radius: 6px; }


/* =========================================
   10. PATCHES & UPDATES
   ========================================= */

/* Center the button and pull it closer to the grid */
.load-more-container {
    width: 100%;
    display: flex;
    justify-content: center;
    padding: 0 0 80px 0;
    margin-top: -75px; /* Small gap from the cards */
    animation: fadeInUp 0.4s ease forwards;
}

/* The Crimson Glass Button Style */
.crimson-glass-btn {
    background: rgba(216, 31, 38, 0.08); /* Subtle red tint */
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(216, 31, 38, 0.3); /* Thin red border */
    color: var(--accent-color);
    
    font-family: 'Inter', sans-serif;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 0.8rem;
    
    padding: 14px 40px;
    border-radius: 50px; /* Capsule shape */
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

/* Hover State: Neon Glow */
.crimson-glass-btn:hover {
    background: var(--accent-color); /* Fills with solid red */
    color: white;
    border-color: var(--accent-color);
    box-shadow: 0 0 30px rgba(216, 31, 38, 0.6);
    transform: translateY(-3px) scale(1.05);
}

/* =========================================
   11. THE DIRECTOR'S NOTE (Refined)
   ========================================= */

/* The Card Container */
.directors-note {
    background: #050505;
    /* Balanced Padding */
    padding: 50px 30px;
    
    /* Fill the parent modal completely */
    width: 100%;
    min-height: 400px; /* Ensure it has presence */
    
    position: relative;
    border-radius: 12px; /* Matches your other cards */
    
    /* Flexbox to Center Everything Perfectly */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}

/* The Gold/Red Border Frame */
.directors-note::after {
    content: ''; 
    position: absolute;
    /* Even spacing for the inner border */
    top: 15px; left: 15px; right: 15px; bottom: 15px;
    border: 1px solid var(--accent-color);
    border-radius: 8px;
    opacity: 0.3;
    pointer-events: none;
}

/* The Cinematic Header */
.note-header {
    font-family: 'Cinzel Decorative', cursive;
    font-size: 1.8rem;
    color: white;
    margin-bottom: 5px;
    font-weight: 700;
    letter-spacing: 1px;
    line-height: 1.2;
    text-shadow: 0 2px 10px rgba(0,0,0,0.8);
    position: relative; z-index: 2;
}

.note-sub {
    font-family: 'Inter', sans-serif;
    font-size: 0.7rem;
    color: var(--accent-color);
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 35px;
    opacity: 0.8;
    position: relative; z-index: 2;
}

/* The Body Text */
.note-body {
    font-family: 'Inter', sans-serif;
    color: #ccc;
    font-size: 0.95rem;
    line-height: 1.7;
    margin-bottom: 30px;
    
    /* Constraint width for readability */
    max-width: 500px;
    width: 100%;
    
    position: relative; z-index: 2;
}

.note-body p { margin-bottom: 15px; }

/* The Ben 10 Highlight */
.fuel-highlight {
    color: var(--green-highlight); 
    font-weight: 700;
}

/* The Signature at the bottom */
.note-signature {
    font-family: 'La Belle Aurore', cursive;
    font-size: 2.2rem;
    color: white;
    margin-top: 10px;
    transform: rotate(-2deg);
    display: inline-block;
    text-shadow: 0 0 15px rgba(255,255,255,0.4);
    position: relative; z-index: 2;
}

.note-ps {
    margin-top: 15px;
    font-size: 0.75rem;
    color: #555;
    font-style: italic;
    font-weight: 600;
    position: relative; z-index: 2;
}

/* =========================================
   12. SMOOTH MODAL TRANSITIONS
   ========================================= */

/* Default State: smooth transitions for these elements */
.modal-header-container, .modal-body {
    transition: opacity 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), 
                filter 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
                transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    opacity: 1;
    filter: blur(0);
    transform: scale(1);
}

/* Switching State: When we are changing movies */
.modal-content.modal-switching .modal-header-container,
.modal-content.modal-switching .modal-body {
    opacity: 0;
    filter: blur(15px); /* Cinematic Blur */
    transform: scale(0.98);
    pointer-events: none; /* Prevent clicks during transition */
}

/* =========================================
   13. SHARE CARD V5 (4K MONOLITH)
   ========================================= */

#share-card-container {
    position: fixed; 
    top: -9999px; left: -9999px; 
    
    /* 1080p Base. Multiplied by 2x in JS = 4K (2160x3840) */
    width: 1080px; height: 1920px; 
    
    z-index: -100; 
    visibility: hidden;
}

.share-card-v5 {
    width: 100%; height: 100%;
    position: relative;
    background: #050505;
    font-family: 'Inter', sans-serif;
    overflow: hidden;
}

/* Background: Crimson Fade */
.sc-bg-layer {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    z-index: 0;
    background: radial-gradient(circle at 50% 30%, #4a0003 0%, #050505 70%);
}

.sc-main-layout {
    position: relative; z-index: 10;
    width: 100%; height: 100%;
    display: flex; flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 80px; /* Big gaps for high res */
    padding: 100px;
}

/* BRANDING: Simple & Modern */
.sc-top-brand {
    font-family: 'Inter', sans-serif; /* Clean simple font */
    font-weight: 600;
    font-size: 1.5rem; 
    color: rgba(255, 255, 255, 0.5);
    letter-spacing: 6px; /* Wide spacing for elegance */
    text-transform: uppercase;
    position: absolute; 
    top: 110px;
}

/* POSTER: Fixed Image Bug & Rounder Corners */
.sc-poster-box {
    width: 650px; /* Massive Poster */
    aspect-ratio: 2/3;
    border-radius: 40px; /* Very round */
    box-shadow: 0 50px 120px -20px rgba(0, 0, 0, 0.9);
    position: relative;
    overflow: hidden;
    border: 2px solid rgba(255,255,255,0.1);
    background: #111; /* Fallback color */
}

/* Crucial Image Fix: Force Display */
#sc-poster-img {
    width: 100% !important; 
    height: 100% !important; 
    object-fit: cover !important; 
    display: block !important;
    opacity: 1 !important;
}

/* TEXT BLOCK */
.sc-text-block {
    text-align: center;
    display: flex; flex-direction: column; align-items: center; gap: 30px;
    width: 100%;
}

/* TITLE: Inter Heavy */
#sc-title-text {
    font-family: 'Inter', sans-serif;
    font-size: 5rem; /* Huge 4K text */
    font-weight: 900; /* Ultra Bold */
    line-height: 1.1;
    color: white;
    text-shadow: 0 10px 40px rgba(0,0,0,0.6);
    text-transform: uppercase;
    max-width: 100%;
    display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
}

/* META TAGS ROW */
.sc-meta-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
}

.sc-tag {
    font-size: 1.8rem;
    font-weight: 700;
    color: #ddd;
    background: rgba(255,255,255,0.1);
    border: 2px solid rgba(255,255,255,0.2);
    padding: 10px 30px;
    border-radius: 60px;
    white-space: nowrap;
}

/* GENRE TEXT */
.sc-genre {
    font-size: 1.6rem;
    color: var(--accent-color);
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    opacity: 0.9;
}

/* SIGNATURE */
.sc-corner-sig {
    position: absolute; 
    bottom: 60px; right: 60px;
    z-index: 20;
    font-family: 'La Belle Aurore', cursive;
    color: rgba(255,255,255,0.25);
    font-size: 2.5rem;
    transform: rotate(-5deg);
}

/* =========================================
   PHASE 2: THE OBSIDIAN PROTOCOL (MOBILE)
   ========================================= */

@media (max-width: 768px) {
    /* 1. Kill Desktop UI */
    #brand-corner, 
    #control-deck, 
    .signature-wrapper, 
    .content-mask-top, 
    .content-mask-bottom, 
    .scroll-paddle,
    .custom-cursor { 
        display: none !important; 
    }

    /* 2. Global Mobile Reset */
    body {
        background-color: #050505;
        padding-top: 60px; /* Space for Mobile Header */
        padding-bottom: 100px; /* Space for Mobile Dock */
    }

    /* SCROLL FIX: Forces the page to scroll unless a specific mode locks it */
    body:not(.modal-active):not(.director-mode-active) {
        overflow-y: auto !important;
        height: auto !important;
        position: static !important;
        touch-action: auto !important; /* Ensures touch scrolling works */
    }
    
    /* Ensure the HTML tag doesn't get stuck either */
    html:not(.modal-active) {
        overflow-y: auto !important;
    }
  
    /* FIX: Auto-sizing container that respects screen edges */
    .toast-container {
        width: auto !important;
        max-width: 90% !important; /* Safe zone from edges */
        left: 50% !important;
        transform: translateX(-50%) !important;
        top: 20px !important;
        display: flex !important;
        justify-content: center !important;
    }

    .toast {
        width: auto !important;
        justify-content: center !important;
        white-space: normal !important;
        text-align: center !important;
        
        /* GLASS AESTHETIC - MORE TRANSLUCENT */
        /* Changed from 0.85 to 0.60 for a clearer glass look */
        background: rgba(10, 10, 10, 0.60) !important; 
        
        backdrop-filter: blur(25px) !important;
        -webkit-backdrop-filter: blur(25px) !important;
        border: 1px solid rgba(255, 255, 255, 0.08) !important;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5) !important;
        color: #fff !important;
        
        /* Sizing & Text */
        padding: 15px 24px !important; 
        font-size: 0.9rem !important;
        line-height: 1.5 !important; 
        
        /* SHAPE */
        border-radius: 22px !important; 
    }

    /* CRITICAL FIX: Unlocks fixed positioning for the Suggest button */
    #app {
        will-change: auto !important;
        transform: none !important;
    }

    .category-row {
        padding-left: 0 !important; /* Remove physical padding so content can exist in the fade zone */
        margin: 20px 0 0 0 !important;
        
        /* THE FADE: Materializes the title from the edge of the screen */
        mask-image: linear-gradient(to right, transparent 0%, black 6%) !important;
        -webkit-mask-image: linear-gradient(to right, transparent 0%, black 6%) !important;
    }

    .row-header {
        /* Use margin instead of padding to keep the text aligned at 6% */
        margin-left: 6% !important; 
        padding-left: 12px !important; 
    }

    /* Fixes alignment for Favorites, Watchlist, and Watched pages */
    .library-section {
        margin-bottom: 20px !important;
        width: 100% !important;
    }

    /* Gap Fix: Tightens space between categories to match Home Screen */
    .library-section {
        margin-bottom: 0px !important;
        width: 100% !important;
        margin-top: 0 !important;
    }

    /* Fixes alignment AND removes hidden top gaps */
    .library-section .category-row {
        padding-left: 0 !important;
        
        /* KILL THE HIDDEN MARGIN: Changed from 20px to 0 */
        margin-top: 0 !important; 
        
        mask-image: linear-gradient(to right, transparent 0%, black 6%) !important;
        -webkit-mask-image: linear-gradient(to right, transparent 0%, black 6%) !important;
    }

    /* Alignment Fix: Restores the "Perfect" position (6% indentation) */
    .library-section .row-header-wrapper {
        margin-left: 6% !important;
        width: 94% !important;
        padding-right: 6% !important;
        margin-bottom: 10px !important;
    }
    .library-section .row-header {
        margin-left: 0 !important; 
    }
    .mobile-only { display: block; }

    /* 3. Mobile Header */
    #mobile-header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        /* The Balanced Choice: 110px */
        height: 110px; 
        display: flex;
        align-items: flex-start; 
        padding-top: 24px; 
        justify-content: space-between;
        padding-left: 20px;
        padding-right: 20px;
        z-index: 9000;
        
        /* THE ULTIMATE BLEND: Deepest at the top, smooth falloff */
        background: linear-gradient(to bottom, 
            #050505 0%, 
            rgba(5, 5, 5, 0.98) 35%, 
            rgba(5, 5, 5, 0.7) 65%, 
            transparent 100%);
        
        pointer-events: none;

        /* THE FIX: Re-enable touch for the header icons */
    .m-logo, 
    #m-search-container, 
    .m-search-trigger, 
    .m-search-bar input {
        pointer-events: auto !important;
    }
    }

/* When search is active, force everything to the right edge */
.m-search-active #mobile-header {
    justify-content: flex-end !important;
    pointer-events: auto;
}

    /* --- REFINED MOBILE RAILGUN: Glassy, Bouncy, Full-Width --- */
    
    /* 1. Hide the Logo when search is open */
    .m-search-active .m-logo {
    display: none !important;
}

    #m-search-container {
    margin-left: auto;
    position: relative;
    display: flex; align-items: center; justify-content: flex-end;
    height: 48px; width: 48px; 
    z-index: 8500;
    
    /* TUNED CLOSING: Reduce bounce, make it faster and smoother */
    transition: width 0.4s cubic-bezier(0.25, 1, 0.5, 1); 
}

#m-search-container.m-search-open {
    /* Change 100% to this for a smoother transition from the right */
    width: calc(100vw - 40px); 
    transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}
    .m-search-trigger {
        width: 44px; height: 44px;
        display: flex; align-items: center; justify-content: center;
        /* Increased glassiness: lower opacity, higher blur */
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        z-index: 10;
        color: white;
        transition: all 0.4s var(--ease-lux);
    }

    /* OPEN STATE: Transforming Icon to X */
    .m-search-open .m-search-trigger {
        background: #fff;
        color: #000;
        transform: rotate(180deg); /* Smooth spin to X */
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
    }

    /* The "X" Logic: We use a pseudo-element to create the cross-line */
    .m-search-open .m-search-trigger::before {
        content: '✕';
        position: absolute;
        font-size: 1.2rem;
        font-weight: 800;
    }
    /* Hide the original SVG icon when the pseudo X is there */
    .m-search-open .m-search-trigger svg {
        opacity: 0;
    }

    .m-search-bar {
    position: absolute; right: 0;
    width: 100%; height: 44px;
    background: rgba(5, 5, 5, 0.95); 
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    border: 1px solid rgba(255, 255, 255, 0.1); /* Kept subtle border */
    border-radius: 30px;
    padding: 0 55px 0 20px;
    opacity: 0;
    transform: scaleX(0.8);
    transform-origin: right;
    transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    pointer-events: none;
}

.m-search-open .m-search-bar {
    opacity: 1;
    transform: scaleX(1);
    pointer-events: all;
    /* TUNED OPENING */
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

    #m-search-input {
        width: 100%; height: 100%;
        background: transparent; border: none;
        color: white; font-size: 1rem; font-weight: 500;
    }

    /* FULL SCREEN BLUR OVERLAY */
    #mobile-search-overlay {
        position: fixed; inset: 0;
        width: 100vw; height: 100vh;
        background: rgba(0, 0, 0, 0.7); /* DEEP DARKNESS */
        backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
        z-index: 7400;
        opacity: 0; pointer-events: none;
        transition: opacity 0.4s ease;
    }

    /* Show blur when active */
    body.m-search-active #mobile-search-overlay {
        opacity: 1; pointer-events: all;
    }

    
    .m-logo {
        font-size: 1.5rem;
        font-weight: 900;
        color: var(--accent-color);
        text-shadow: 0 0 15px rgba(216, 31, 38, 0.4);
        letter-spacing: 3px;
        
        /* ALIGNMENT FIX: Matches the Search Button's height exactly */
        height: 44px !important; 
        display: flex !important;
        align-items: center !important; 
        
        /* Optional: Ensures it doesn't get squished */
        flex-shrink: 0 !important;
    }

    /* 4. THE MOBILE DOCK (Restoring Bounce & Fixing Search Z-Index) */
    #mobile-dock {
        position: fixed; bottom: 20px; left: 50%;
        transform: translateX(-50%);
        width: 92%; height: 72px; 
        background: rgba(10, 10, 10, 0.85);
        backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 22px;
        z-index: 9500;
        /* Added opacity and better bottom transition */
        transition: height 0.5s var(--ease-lux), bottom 0.4s var(--ease-lux), opacity 0.3s ease;
        overflow: hidden;
        display: flex; flex-direction: column;
    }

    /* HUB OPEN STATE */
    #mobile-dock.m-hub-active {
        height: 245px;
        padding-top: 5px;
        padding-bottom: 0;
    }

    /* FIX: Hide dock when search is active so it doesn't float over results */
    body.m-search-active #mobile-dock {
        opacity: 0;
        pointer-events: none;
        bottom: -100px;
    }

    #m-nav-strip {
        display: flex; align-items: center; justify-content: space-around;
        width: 100%; height: 72px;
        flex-shrink: 0;
        transition: opacity 0.3s var(--ease-lux);
    }

    .m-hub-active #m-nav-strip { opacity: 0; pointer-events: none; }

    /* NAV ITEMS: Restoring the high-performance bounce */
    .m-nav-item {
        color: rgba(255, 255, 255, 0.35);
        display: flex; align-items: center; justify-content: center;
        width: 52px; height: 52px;
        border-radius: 14px;
        /* Changed ease-spring to a specific cubic-bezier for a better "pop" */
        transition: background 0.3s ease, color 0.3s ease, transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        -webkit-tap-highlight-color: transparent;
    }

    /* THE BOUNCE: Subtle but responsive touch feedback */
    /* THE BOUNCE: CSS for the animation */
    .m-nav-item:active, 
    .m-nav-item.tap-bounce { 
        transform: scale(0.82) !important; /* Slightly more noticeable bounce */
        background: rgba(255, 255, 255, 0.05); /* Visual feedback */
    }

    .m-nav-item.m-active {
        background: rgba(216, 31, 38, 0.15) !important;
        color: var(--accent-color) !important;
        border: 1px solid rgba(216, 31, 38, 0.2);
    }

    .m-nav-item svg { width: 24px; height: 24px; stroke-width: 2.5; }

    /* 5. OVERLAY TYPOGRAPHY (Stricter Simple Overrides) */
    .m-stats-header-main, 
    .m-legend-heading-simple, 
    #settings-modal h1, 
    #stats-modal h1 {
        font-family: 'Inter', -apple-system, sans-serif !important;
        font-size: 1.2rem !important;
        font-weight: 800 !important;
        text-transform: uppercase !important;
        letter-spacing: 3px !important;
        color: white !important;
        margin-top: 10px !important;
        margin-bottom: 30px !important;
        text-shadow: none !important; /* Removes cinematic glow for simplicity */
    }

    /* HUB CONTENT: Clean fade and rise */
    #m-hub-strip {
        opacity: 0;
        transform: translateY(15px);
        transition: opacity 0.4s var(--ease-lux), transform 0.4s var(--ease-lux);
        padding: 0 15px 20px 15px;
        margin-top: -40px; /* THE FIX: Pulls the whole grid upward */
    }

    .m-hub-active #m-hub-strip {
        opacity: 1;
        pointer-events: all;
        transform: translateY(0);
    }

    /* 5. HUB GRID INTERNALS */
    .m-hub-row-top { display: flex; justify-content: space-around; margin-bottom: 30px; }
    
    .m-squicle-wrapper {
        display: flex; flex-direction: column; align-items: center; gap: 8px; flex: 1;
        transition: transform 0.2s var(--ease-spring);
    }

    /* Squicle touch feedback */
    .m-squicle-wrapper:active .m-squicle { transform: scale(0.9); }

    .m-squicle {
        width: 58px; height: 58px;
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 16px;
        display: flex; align-items: center; justify-content: center;
    }

    .m-squicle svg { width: 22px; height: 22px; color: rgba(255,255,255,0.7); }

    /* Legend mark centering fix */
    .m-legend-mark {
        font-family: 'Inter', sans-serif !important;
        font-size: 26px !important; font-weight: 800 !important;
        color: rgba(255,255,255,0.7) !important; line-height: 1 !important;
        display: flex !important; align-items: center !important; justify-content: center !important;
        padding-top: 5px !important;
    }

    .m-squicle-wrapper span {
        font-size: 0.58rem; text-transform: uppercase; color: #666;
        font-weight: 700; text-align: center; line-height: 1.1; min-height: 2.2em;
    }

    /* Utility & Signature */
    .m-hub-row-utility {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        margin-bottom: 0; /* No bottom margin here */
        padding: 0 10px;
    }

    .m-hub-row-utility span {
        flex: 1;
        font-size: 0.65rem;
        font-weight: 800;
        color: #444;
        text-transform: uppercase;
        letter-spacing: 1.5px;
    }

    .m-hub-row-utility span:nth-child(1) { text-align: right; }
    .m-hub-row-utility span:nth-child(3) { text-align: center; }
    .m-hub-row-utility span:nth-child(5) { text-align: left; }

    .m-hub-row-utility .m-sep {
        flex: 0;
        padding: 0 12px;
        opacity: 0.3;
        color: #444;
    }

    /* THE SIGNATURE SEATING */
    .m-hub-signature {
        font-family: 'La Belle Aurore', cursive;
        color: rgba(255, 255, 255, 0.15);
        font-size: 1.3rem;
        text-align: center;
        line-height: 1;
        
        /* DISTANCE X: Equal space above and below */
        margin-top: 30px;    /* Space from buttons */
        margin-bottom: 30px; /* Space from bottom edge */
    }

    /* Burger Lines Fixed */
    .m-burger { display: flex; flex-direction: column; gap: 5px; width: 20px; align-items: center; }
    .m-burger span { display: block; height: 2.5px; background: currentColor; border-radius: 5px; }

/* 6. Row & Grid Logic: Tightens internal padding */
    .library-container.row-view, 
    .row-container {
        display: flex !important;
        flex-wrap: nowrap !important;
        overflow-x: auto !important;
        overflow-y: hidden !important;
        gap: 15px !important;
        
        /* KILL THE HIDDEN PADDING: Reduced bottom padding from 30px to 10px */
        padding: 10px 6% 10px 6% !important; 
        
        width: 100% !important;             
        margin: 0 !important;               
        
        scroll-padding-left: 6% !important;
        scroll-snap-type: x mandatory !important; 
        
        mask-image: linear-gradient(to right, transparent 0%, black 6%, black 92%, transparent 100%) !important;
        -webkit-mask-image: linear-gradient(to right, transparent 0%, black 6%, black 92%, transparent 100%) !important;
        
        -webkit-overflow-scrolling: touch;
    }

/* Adjusted for the edge fade */
.row-container::after, .library-container.row-view::after {
    content: '';
    flex: 0 0 10%; /* Increased from 6% to 10% to account for the mask */
}

/* Ensure cards don't shrink in the row view */
.row-view .card, 
.row-container .card {
    flex: 0 0 140px !important;
    height: 210px !important;
    scroll-snap-align: start !important;
}

/* Keep the Grid View as 2-columns when 'Show All' is toggled */
.library-container.grid-view {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 15px !important;
        padding: 20px 6% !important; /* Forces 6% alignment on grid view */
        width: 100% !important;
    }

.grid-view .card {
    width: 100% !important;
    height: auto !important;
    aspect-ratio: 2/3 !important;
}

    /* --- /* --- THE JUNIOR MONOLITH (Mobile Hero) --- */
    #hero-container {
        padding-top: 15px; /* Gives the tilting card a bit of breathing room from the deeper fade */
        height: 70vh; /* Slightly taller for more drama */
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        perspective: 1000px; /* Essential for the tilt effect */
    }

    .hero-layout-grid.suggestion-one {
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 15px;
        width: 100%;
        padding: 0 20px;
    }

    /* The Floating/Tilting Card */
    .hero-poster-box {
        position: relative;
        width: 220px; /* Professional card size */
        aspect-ratio: 2/3;
        border-radius: 15px;
        z-index: 10;
        box-shadow: 0 20px 50px rgba(0,0,0,0.8);
        border: 1px solid rgba(255,255,255,0.15);
        transform-style: preserve-3d;
        transition: transform 0.1s ease-out; /* Smooth gyro return */
        display: block !important; /* Force visibility */
    }

    /* The Blurred Background with Vignette */
    .hero-bg-wrapper {
        position: absolute;
        inset: 0;
        z-index: 0;
    }

    .hero-img-blur {
        filter: blur(5px) brightness(0.5);
        transform: scale(1.1) translateY(-5px); /* Pulls the image up slightly so the bottom is tucked away */
    }

    .hero-vignette {
        position: absolute;
        inset: -2px;
        /* Layer 1: The BOTTOM FADE (Now taller and deeper) | Layer 2: The Center Focus */
        background: 
            linear-gradient(to top, 
                #050505 0%, 
                #050505 15%, 
                rgba(5, 5, 5, 0.8) 35%, 
                transparent 70%),
            radial-gradient(circle at center, transparent 10%, #050505 100%);
        opacity: 1; /* Set to 1 to ensure the black is solid at the base */
        pointer-events: none;
        z-index: 2;
    }

    /* The Info Stack below the card */
    .hero-info-stack {
        display: flex;
        flex-direction: column;
        gap: 12px; /* Just enough space to look intentional and clean */
        text-align: center;
        align-items: center !important;
        z-index: 10;
        width: 100%;
    }

    .hero-title-v2 {
        font-size: 1.8rem;
        font-weight: 800;
        line-height: 1.2; /* Added a tiny bit of height for readability */
        margin-bottom: 0;
        text-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }

    /* This kills the description on mobile but keeps it on desktop */
    .hero-desc-v2 {
        display: none !important;
    }

    .h-meta-row {
        justify-content: center;
        margin-bottom: 5px; /* Reduced from 20px */
        font-size: 0.7rem;
        opacity: 0.8;
    }

    /* The Crimson Button - Sized for Mobile */
    .hero-info-stack .btn-primary {
        padding: 12px 35px;
        font-size: 0.8rem;
        border-radius: 50px; /* More pill-like for mobile */
    }

    .hero-ghost-title { display: none; }

    .hero-desc-v2 {
        display: none !important;
    }

    /* 8. Full-Screen Overlay Layers (Search, Stats, etc.) */
    [id*="-overlay"], [id*="-layer"] {
        position: fixed; inset: 0;
        background: #050505; z-index: 8000;
        padding: 80px 6% 20px 6%;
        overflow-y: auto;
        transition: transform 0.4s var(--ease-lux), opacity 0.3s ease;
    }

    .m-layer-hidden {
        transform: translateY(100%);
        opacity: 0; pointer-events: none;
    }
    
    #mobile-stats-layer:not(.m-layer-hidden) {
    transform: translateY(0) !important;
    opacity: 1 !important;
    pointer-events: all !important;
    z-index: 9000 !important;
}

    /* Mobile Search Layout */
    .m-search-wrap {
        display: flex; align-items: center; gap: 15px;
        margin-bottom: 30px;
    }

  
    #m-search-results {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }

    .m-search-close { display: none !important; }

    /* --- THE GLASS MONOLITH HUD (Mobile Only) --- */
#mobile-stats-layer {
    background: #050505 !important;
    padding: 80px 6% 140px 6% !important; /* Added more top space for heading */
    display: block !important; /* Allow scrolling */
    overflow-y: auto;
}

/* 1. Immersive Heading */
.m-stats-header-main {
    font-family: 'Cinzel Decorative', serif;
    font-size: 1.5rem;
    color: white;
    letter-spacing: 4px;
    text-align: center;
    margin-bottom: 40px;
    text-transform: uppercase;
    opacity: 0.8;
}

/* 2. Massive, Bold Total Count */
.m-stats-ghost-total {
    position: relative; /* Changed from fixed to relative to sit in the flow */
    font-size: 8rem; /* Massive */
    font-weight: 900;
    color: white;
    text-align: center;
    line-height: 1;
    margin-bottom: 10px;
    background: linear-gradient(to bottom, #fff 30%, rgba(255,255,255,0.1));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 20px rgba(255,255,255,0.1));
}

/* 3. The Crimson Rank Capsule (Matching your Legend style) */
.m-stats-rank-tablet {
    width: fit-content;
    margin: 0 auto 50px auto;
    padding: 8px 25px;
    background: var(--accent-color); /* Solid Crimson */
    border-radius: 50px;
    box-shadow: 0 0 25px rgba(216, 31, 38, 0.5);
    border: 1px solid rgba(255,255,255,0.2);
}

.m-stats-rank-title {
    font-family: 'Inter', sans-serif;
    font-size: 0.9rem;
    font-weight: 800;
    color: white;
    letter-spacing: 2px;
    text-transform: uppercase;
}

.m-stats-rank-label {
    font-size: 0.7rem;
    color: var(--accent-color);
    text-transform: uppercase;
    letter-spacing: 4px;
    font-weight: 800;
    margin-bottom: 8px;
}

.m-stats-rank-title {
    font-family: 'Inter', sans-serif;
    font-size: 0.9rem;
    font-weight: 800;
    color: white;
    letter-spacing: 2px;
    text-transform: uppercase;
}

/* 3. The Grid for Movies/Series */
.m-stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    width: 100%;
    position: relative;
    z-index: 10;
    margin-bottom: 40px;
}

.m-stats-card {
    background: rgba(15, 15, 15, 0.6);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 18px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.m-card-val { font-size: 2rem; font-weight: 800; color: white; }
.m-card-label { font-size: 0.6rem; color: #666; text-transform: uppercase; font-weight: 700; letter-spacing: 1px; }

/* 4. Liquid Vial Genre Bars */
.m-vial-section {
    width: 100%;
    position: relative;
    z-index: 10;
}

.m-vial-row {
    margin-bottom: 25px;
}

.m-vial-info {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    font-weight: 600;
    margin-bottom: 8px;
    color: #888;
}

.m-vial-track {
    width: 100%;
    height: 12px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 50px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
    position: relative;
}

.m-vial-fill {
    height: 100%;
    background: linear-gradient(90deg, #8a0005, var(--accent-color));
    border-radius: 50px;
    box-shadow: 0 0 15px var(--accent-color);
    width: 0%; /* Animated via JS */
    transition: width 1.2s cubic-bezier(0.25, 1, 0.5, 1);
}

    /* 9. Movie Modal Mobile Adjustments - BRANDED COMPACT VERSION */
    .modal-content {
        width: 100%; height: 100%; max-height: 100vh;
        border-radius: 0; border: none;
    }

    /* INCREASED PADDING: Adds 150px of empty space at the bottom so you can scroll content ABOVE the dock */
    .modal-body { padding: 0 6% 150px 6% !important; }

    .modal-meta {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 8px !important;
        margin-bottom: 20px !important;
    }

    .meta-info-group {
        justify-content: flex-start !important;
        width: 100% !important;
        gap: 5px !important;
    }

    /* --- REFINED MOBILE ACTION BUTTONS (OBSIDIAN STYLE) --- */
    
    /* 1. The Grid Container */
    .modal-actions {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 12px !important; /* Increased gap for cleaner look */
        padding: 20px 0 !important;
        margin-top: 10px !important;
        background: transparent !important;
        border: none !important;
        position: static !important;
    }

    /* 2. The Buttons */
    .modal-actions .action-btn {
        width: 100% !important;
        height: 50px !important; /* Taller for better touch target */
        
        /* Glassy Dark Theme */
        background: rgba(20, 20, 20, 0.6) !important;
        backdrop-filter: blur(15px) !important;
        -webkit-backdrop-filter: blur(15px) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 16px !important; /* Squaricle shape matching your hub */
        
        /* Typography */
        font-family: 'Inter', sans-serif !important;
        font-size: 0.75rem !important;
        font-weight: 700 !important;
        letter-spacing: 1px !important;
        text-transform: uppercase !important;
        color: #ccc !important;
        
        /* Layout */
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 8px !important;
        
        transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1) !important;
    }

    /* 3. Icons inside buttons */
    .modal-actions .action-btn svg {
        width: 16px !important;
        height: 16px !important;
        opacity: 0.7 !important;
        margin: 0 !important;
        margin-right: 5px !important;
    }

    /* 4. ACTIVE STATES (The Glow Up) */
    
    /* Favorite (Crimson) */
    .action-btn.active#btn-fav {
        background: rgba(216, 31, 38, 0.15) !important;
        border-color: var(--accent-color) !important;
        color: white !important;
        box-shadow: 0 0 20px rgba(216, 31, 38, 0.2) !important;
    }
    
    /* Watchlist (Future Blue) */
    .action-btn.active#btn-watch {
        background: rgba(63, 169, 245, 0.15) !important;
        border-color: var(--future-color) !important;
        color: white !important;
        box-shadow: 0 0 20px rgba(63, 169, 245, 0.2) !important;
    }
    
    /* Watched (Success Green) */
    .action-btn.active#btn-watched {
        background: rgba(70, 211, 105, 0.15) !important;
        border-color: var(--green-highlight) !important;
        color: white !important;
        box-shadow: 0 0 20px rgba(70, 211, 105, 0.2) !important;
    }

    /* Share Button (Clean Glass) */
    #btn-share {
        background: rgba(255, 255, 255, 0.05) !important;
        border-color: rgba(255, 255, 255, 0.1) !important;
        color: #ddd !important;
    }
    

    /* --- MOBILE IDENTITY OVERHAUL --- */
.mobile-only .identity-wrapper {
    padding: 40px 20px;
    justify-content: center;
    min-height: 80vh;
    gap: 30px;
}

/* The Pedestal / Lightbox Effect */
.mobile-only .ticket-section {
    position: relative;
    padding: 20px 0;
}

.mobile-only .ticket-section::before {
    content: '';
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 120%;
    height: 120%;
    background: radial-gradient(circle, rgba(216, 31, 38, 0.15) 0%, transparent 70%);
    z-index: -1;
    pointer-events: none;
}

/* --- THE ARCHIVE PASS: BIGGER & UNBOXED --- */
#settings-modal .landscape-ticket {
    /* 1. Keep rigid proportions */
    width: 500px !important;
    height: 220px !important;
    min-width: 500px !important;
    max-width: 500px !important;

    /* 2. INCREASE SCALE: From 0.65 to 0.75 for maximum size */
    transform: scale(0.75) !important;

    /* 3. Center it */
    transform-origin: center center;
    margin: -30px auto !important; /* Adjusted margin for the bigger size */
    display: flex !important;
    flex-shrink: 0 !important;

    /* A slightly deeper shadow so it pops off the screen */
    box-shadow: 0 30px 70px rgba(0,0,0,0.9);
}

/* For smaller phones (iPhone SE) - still big, just fits better */
@media (max-width: 370px) {
    #settings-modal .landscape-ticket {
        transform: scale(0.68) !important;
        margin: -40px auto !important;
    }
}

/* "REMOVING THE BOX" - Zero side padding to let the ticket sit edge-to-edge */
#settings-modal .identity-wrapper {
    padding: 40px 0px !important; /* Top/Bottom padding only */
    overflow-x: hidden; /* Prevents horizontal scrolling if it barely touches edges */
    width: 100%;
}

#settings-modal .ticket-section {
    width: 100% !important;
    padding: 0 !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    overflow: visible !important;
}

/* The Access Timestamp */
.mobile-access-tag {
    font-family: 'Inter', monospace;
    font-size: 0.6rem;
    color: rgba(255, 255, 255, 0.3);
    letter-spacing: 3px;
    text-transform: uppercase;
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 6px 15px;
    border-radius: 4px;
    margin-top: 20px;
}

/* Final Mobile Legend Overhaul */
    #st-ladder {
        overflow-y: auto !important; /* ENABLE SCROLL ON CONTAINER */
        display: block !important;
        padding-top: 20px;
    }

    #st-ladder .legend-pop-wrapper {
        display: flex !important;
        flex-direction: column !important;
        width: 100% !important;
        height: auto !important; /* Let it expand */
        padding: 60px 6% 100px 6% !important;
        background: transparent !important;
        opacity: 1 !important;
        transform: none !important;
    }

    .m-legend-heading-simple {
        font-family: 'Inter', sans-serif !important;
        font-size: 1.4rem !important;
        font-weight: 800 !important;
        color: white !important;
        text-transform: uppercase !important;
        letter-spacing: 2px !important;
    }

    .m-legend-stack {
        display: flex !important;
        flex-direction: column !important;
        gap: 20px !important;
        width: 100% !important;
    }

    .m-clean-card {
        background: rgba(255, 255, 255, 0.02) !important;
        border: 1px solid rgba(255, 255, 255, 0.05) !important;
        border-radius: 16px !important;
        padding: 25px 20px !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: flex-start !important;
    }

    .m-card-label-simple {
        font-size: 0.7rem !important;
        font-weight: 700 !important;
        color: #555 !important;
        text-transform: uppercase !important;
        letter-spacing: 2px !important;
        margin-bottom: 15px !important;
        border-bottom: 1px solid rgba(255,255,255,0.05) !important;
        width: 100% !important;
        padding-bottom: 8px !important;
    }

    .m-status-text {
        font-size: 0.75rem !important;
        font-weight: 600 !important;
        color: #888 !important;
        text-transform: uppercase !important;
        letter-spacing: 1px !important;
    }

    /* Suggest Button: Exact Desktop Visual Clone */
    .m-clean-card .shuffle-btn {
        display: inline-flex !important;
        background: rgba(255, 255, 255, 0.04) !important;
        border: 1px solid rgba(255, 255, 255, 0.15) !important;
        backdrop-filter: blur(10px) !important;
        border-radius: 12px !important;
        color: #ddd !important;
        font-weight: 700 !important;
        text-transform: uppercase !important;
        letter-spacing: 1px !important;
        padding: 10px 25px !important;
        font-size: 0.75rem !important;
        box-shadow: none !important;
        transition: all 0.2s ease !important;
        width: auto !important;
        margin: 0 auto !important; /* Forces centering */
    }

    /* Active Tap State (Mobile Hover) */
    .m-clean-card .shuffle-btn:active {
        background: white !important;
        color: black !important;
        border-color: white !important;
        transform: scale(0.95);
        box-shadow: 0 0 15px rgba(255,255,255,0.4) !important;
    }

    .m-clean-card .season-tab {
        height: 34px !important;
        font-size: 0.7rem !important;
        padding: 0 12px !important;
        background: #000 !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        color: #ccc !important;
    }
/* --- FINAL REFINED CREDITS: THE ADAPTIVE CARD --- */

/* 1. Ensure the parent container centers the card perfectly */
#settings-modal .settings-content {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 100% !important;
    width: 100% !important;
}

/* FIX: Scrollable Container for Small Screens */
   /* FIX: Fixed Header/Footer, Scrollable Body */
    .mobile-only .directors-note {
        width: 90% !important;
        
        /* Fixed height ensures the header/footer stay put relative to the screen */
        height: 70vh !important; 
        max-height: 70vh !important;
        
        margin: 0 auto !important;
        
        background: #000000 !important;
        border: 1px solid rgba(216, 31, 38, 0.2) !important;
        border-radius: 20px !important;
        
        /* Flex Layout to separate Header, Body, Footer */
        display: flex !important;
        flex-direction: column !important;
        justify-content: flex-start !important;
        
        padding: 30px 25px !important; /* Outer padding */
        
        /* DISABLE SCROLL on the container (so header/footer don't move) */
        overflow: hidden !important; 
        
        position: relative;
        box-shadow: 0 40px 100px rgba(0,0,0,1);
    }

/* /* --- DIRECTOR NOTE INTERNALS --- */

    /* 1. PINNED HEADER (Stays at the top) */
    .mobile-only .note-header,
    .mobile-only .note-sub {
        flex-shrink: 0 !important; /* Never shrink */
        margin: 0 !important;
        text-align: center;
    }
    
    .mobile-only .note-header {
        font-size: 1.3rem !important;
        margin-bottom: 5px !important;
        margin-top: 10px !important;
    }
    
    .mobile-only .note-sub {
        margin-bottom: 15px !important;
        opacity: 0.7;
    }

    /* 2. SCROLLABLE BODY (Middle Section) */
    .mobile-only .note-body {
        font-size: 0.9rem !important;
        padding: 0 5px !important;
        
        /* This pushes the header up and signature down */
        flex-grow: 1 !important; 
        
        /* This enables scrolling ONLY for the text */
        overflow-y: auto !important;
        
        /* Smooth scrolling */
        -webkit-overflow-scrolling: touch !important;
        
        /* Spacing so text doesn't touch the fixed elements */
        margin-top: 5px !important;
        margin-bottom: 10px !important;
        
        /* Fades the text slightly at the edges for a premium feel */
        mask-image: linear-gradient(to bottom, transparent 0%, black 5%, black 95%, transparent 100%);
        -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 5%, black 95%, transparent 100%);
    }

    /* 3. PINNED FOOTER (Stays at the bottom) */
    .mobile-only .note-signature,
    .mobile-only .note-ps {
        flex-shrink: 0 !important; /* Never shrink */
        margin: 0 !important;
        text-align: center;
    }

    .mobile-only .note-signature {
        margin-top: 5px !important;
    }
    
    /* --- FINAL MOBILE SUB-PAGE ALIGNMENT --- */
    
    /* 1. Mobile Page Header */
    .list-page-header {
        /* TOP | RIGHT | BOTTOM | LEFT */
        /* Right stays at 6% (locks filter button). Left goes to 0 or 2% (moves title). */
        padding: 40px 6% 0 2% !important; 
        
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        justify-content: space-between !important;
        
        margin-bottom: 40px !important;
    }

    /* FLOATING SUGGEST BUTTON (Watchlist Only) */
    /* FLOATING SUGGEST BUTTON (Watchlist Only) */
    .list-page-header .shuffle-btn {
        position: fixed !important;
        bottom: 110px !important; 
        
        /* MOVE TO RIGHT */
        right: 6% !important;      
        left: auto !important; 
        
        z-index: 9000 !important; 

        /* Glass Aesthetic */
        background: rgba(10, 10, 10, 0.85) !important;
        backdrop-filter: blur(25px) !important;
        -webkit-backdrop-filter: blur(25px) !important;
        border: 1px solid rgba(255, 255, 255, 0.08) !important;
        
        /* SQUARICLE SHAPE */
        border-radius: 16px !important; 
        
        /* Sizing & Text */
        width: auto !important;
        height: 44px !important;
        padding: 0 20px !important;
        font-size: 0.75rem !important;
        font-weight: 700 !important;
        letter-spacing: 1px !important;
        color: #fff !important;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5) !important;
        
        margin: 0 !important;
        transition: transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.2s ease !important;
    }

    /* HIDE SUGGEST BUTTON WHEN MODAL IS OPEN */
    body.modal-active .list-page-header .shuffle-btn {
        opacity: 0 !important;
        pointer-events: none !important;
        transform: translateY(20px) !important;
    }

    .list-page-header .shuffle-btn:active {
        transform: scale(0.95) !important;
        background: rgba(255, 255, 255, 0.1) !important;
        border-color: rgba(255, 255, 255, 0.3) !important;
    }

    .list-page-header h2 {
        /* Fine-tune just the text position here */
        padding-left: 17px !important; 
        font-size: 1.6rem !important; 
        margin: 0 !important;
        border: none !important;
        flex-shrink: 0; 
    }

    /* Aligns the Sort Dropdown/Suggest button */
    .list-page-header > div {
        padding-left: 0 !important;
        margin-bottom: 0 !important;
        
        /* REMOVED MARGIN: Now it hits the 6% line exactly, matching the 'Show All' buttons */
        margin-right: 0 !important; 
    }
    
    /* Ensures the list sections don't have massive gaps between them */
    .list-page-header + .library-section {
        margin-top: 10px !important;
    }
    /* 2. Kill Hover Icons & Effects (MOBILE ONLY) */
    
    /* Prevents the card from scaling/jumping on tap */
    .card:hover {
        transform: none !important;
        box-shadow: 0 4px 8px rgba(0,0,0,0.3) !important;
        border: none !important;
    }

    /* COMPLETELY HIDES icons (Rating, Fav, Watchlist, Overlay) on mobile touch */
    .card:hover .card-rating-badge,
    .card:hover .card-icon-container,
    .card:hover .card-info-overlay {
        opacity: 0 !important;
        visibility: hidden !important;
        transform: none !important;
        pointer-events: none !important;
    }

    /* Stops titles from glowing or reacting to touch */
    .row-header, 
    .row-header-wrapper,
    .list-page-header h2 {
        transform: none !important;
        transition: none !important;
        text-shadow: none !important;
        pointer-events: none !important;
    }

    /* Keeps buttons functional but removes the 'bounce' hover color */
    .library-toggle, .dropdown-btn, .shuffle-btn {
        pointer-events: auto !important;
        transform: none !important;
        transition: none !important;
    }

    /* --- DIRECTOR MODE (Immersive State) --- */
    
    /* 1. Hide Dock & Search */
    body.director-mode-active #mobile-dock,
    body.director-mode-active #m-search-container {
        opacity: 0 !important;
        pointer-events: none !important;
        transform: translateY(50px) !important;
        transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1) !important;
    }

    /* 2. PURE BLACK BACKGROUND & SCROLL LOCK */
    body.director-mode-active #settings-modal {
        background: #000000 !important; /* Pure Black (Fixed Gray Issue) */
        backdrop-filter: none !important; 
        z-index: 9999 !important; 
    }
    
    body.director-mode-active {
        overflow: hidden !important; 
    }

    /* 3. CENTER THE CARD VERTICALLY */
    /* We remove top padding and force flex centering */
    body.director-mode-active #settings-modal .settings-content {
        transform: none !important; /* Keep this to let the back button float correctly */
        animation: none !important;
        justify-content: center !important; /* Fixes Vertical Centering */
        padding-top: 0 !important;
    }

    /* 4. The Floating Back Button (MOVED TO RIGHT) */
    .director-back-btn {
        position: fixed !important;
        bottom: 30px !important;
        
        /* MOVED TO RIGHT */
        right: 6% !important; 
        left: auto !important;
        
        width: 50px !important;
        height: 50px !important;
        border-radius: 50% !important;
        
        /* Glass Aesthetic */
        background: rgba(20, 20, 20, 0.9) !important;
        backdrop-filter: blur(20px) !important;
        border: 1px solid rgba(255, 255, 255, 0.15) !important;
        box-shadow: 0 10px 40px rgba(0,0,0,0.8) !important;
        
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        z-index: 10000 !important; 
        color: white !important;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.4s ease 0.2s !important;
        cursor: pointer !important;
    }

    /* Show button when active */
    body.director-mode-active .director-back-btn {
        opacity: 1 !important;
        transform: translateY(0) !important;
    }

    .director-back-btn svg {
        width: 20px !important;
        height: 20px !important;
        stroke-width: 2.5 !important;
        transform: translateX(1px); /* Visual center correction */
    }

}